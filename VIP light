const int blueLEDs[] = {2, 3, 4, 5};
const int redLEDs[]  = {6, 7, 8, 9};
const int buttonPin = 10;

int pattern = 0;
int totalPatterns = 3;
bool lastButtonState = HIGH;

void setup() {
  for (int i = 0; i < 4; i++) {
    pinMode(blueLEDs[i], OUTPUT);
    pinMode(redLEDs[i], OUTPUT);
  }
  pinMode(buttonPin, INPUT_PULLUP);
}

void loop() {
  bool buttonState = digitalRead(buttonPin);
  
  // Detect button press (with basic debounce)
  if (lastButtonState == HIGH && buttonState == LOW) {
    pattern = (pattern + 1) % totalPatterns;
    delay(200); // debounce
  }
  lastButtonState = buttonState;

  // Run current pattern
  switch (pattern) {
    case 0:
      patternFlashAll();
      break;
    case 1:
      patternAlternating();
      break;
    case 2:
      patternChase();
      break;
  }
}

// Pattern 0: All blink together
void patternFlashAll() {
 turnAll(HIGH);
  delay(200);
  turnAll(LOW);
  delay(200);
}

// Pattern 1: Red â†” Blue alternating
void patternAlternating() {
  setGroup(redLEDs, HIGH);
  setGroup(blueLEDs, LOW);
  delay(200);
  setGroup(redLEDs, LOW);
  setGroup(blueLEDs, HIGH);
  delay(200);
}

// Pattern 2: Chase effect
void patternChase() {
  for (int i = 0; i < 4; i++) {
    digitalWrite(redLEDs[i], HIGH);
    digitalWrite(blueLEDs[i], LOW);
    delay(100);
    digitalWrite(redLEDs[i], LOW);
    digitalWrite(blueLEDs[i], HIGH);
    delay(100);
    digitalWrite(blueLEDs[i], LOW);
  }
}

// Helper to turn all LEDs
void turnAll(bool state) {
  setGroup(redLEDs, state);
  setGroup(blueLEDs, state);
}

// Helper to control group
void setGroup(const int group[], bool state) {
  for (int i = 0; i < 4; i++) {
    digitalWrite(group[i], state);
  }
}
